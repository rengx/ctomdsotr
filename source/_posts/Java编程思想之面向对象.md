---
title: Java编程思想之面向对象
date: 2017-06-07 00:46:50
tags: java编程思想
categories: 语言

---

# 一切都是对象

## 用引用操纵对象
在java中，一切被视为对象，操作对象的标识符实际上是对象的一个“引用”（reference）。
书中以遥控器比引用，电视机比对象，我们直接操作的是遥控器（引用），再由遥控器来调控电视机（对象），而且我们可以在房间中走动的同时调控电视机，只需携带遥控器而不是电视机。此外，即使没有电视机，遥控器也可以独立存在。
这个例子可以说明，我们可以使用引用，在不同的地方操作对象；我们也可以拥有一个引用，这个引用也不一定必须有一个对象与之关联，但是这仅限于在我们使用这个引用之前。

## 必须由你创建所有对象
在使用引用之前，必须关联一个对象。

### 对象存储在哪
程序运行时，对象是怎么进行放置安排的呢？

1. 寄存器。因为它位于CPU内部，所以存取最快，当然数量也极其有限（书中用了“极其有限”）。我们不能直接控制，也感觉不到它的存在。
2. 堆栈。位于RAM（随机访问存储器），是存放数据的一种内存区域（[stack的三种含义](http://www.ruanyifeng.com/blog/2013/11/stack.html "stack的三种含义")）。堆栈是有结构的，数据结构就是栈，每个区块大小固定，适宜存大小固定的数据，比如如对象的引用，基本数据类型。
3. 堆。位于RAM，没有结构，大小也不固定，可以任意存放。用于存放所有的对象。
4. 常量。直接存放在程序代码中（反编译class文件即可看到）。
5. 非RAM存储，比如数据库等。

### 特例：基本类型
前面我们知道所有对象都要使用new 创建，并且存在堆中。但是，一些比较小的、简单的变量，这样做不是很有效。这些变量，不用new来创建，是非引用类型的变量。这些变量直接存储值（引用类型变量存储的是对象的地址），位于堆栈中，因此更高效。
这些变量存放于堆栈，因此大小就要是固定的，在java中，也不像其他语言随机器硬件架构的变化而变化。这也是java具有可移植性的原因之一。
基本类型有boolean/byte/char/short/int/long/float/double/void。

## 永远不需要销毁对象
1. 作用域
2. 对象的作用域
基本类型，在作用域终点时就会从堆栈中移除；对象类型的变量，对象的引用在作用域终点会消失，但是对象依然会在堆中占据内存空间，直到被垃圾回收机制处理。

## 创建新的数据类型：类
## 方法、参数和返回值